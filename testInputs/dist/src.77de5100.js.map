{"version":3,"sources":["scripts/scalable.ts","scripts/snake.ts","scripts/vector.ts","scripts/food.ts","scripts/random.ts","../node_modules/events/events.js","scripts/game.ts","index.ts","../node_modules/parcel-bundler/src/builtins/bundle-url.js","../node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["R","Reflect","ReflectApply","apply","target","receiver","args","Function","prototype","call","ReflectOwnKeys","ownKeys","Object","getOwnPropertySymbols","getOwnPropertyNames","concat","ProcessEmitWarning","warning","console","warn","NumberIsNaN","Number","isNaN","value","EventEmitter","init","module","exports","_events","undefined","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","TypeError","defineProperty","enumerable","get","set","arg","RangeError","getPrototypeOf","create","setMaxListeners","n","_getMaxListeners","that","getMaxListeners","emit","type","i","arguments","length","push","doError","events","error","er","Error","err","message","context","handler","len","listeners","arrayClone","_addListener","prepend","m","existing","newListener","unshift","warned","w","String","name","emitter","count","addListener","on","prependListener","onceWrapper","fired","removeListener","wrapFn","_onceWrap","state","wrapped","bind","once","prependOnceListener","list","position","originalListener","shift","spliceOne","off","removeAllListeners","keys","key","_listeners","unwrap","evlistener","unwrapListeners","rawListeners","listenerCount","eventNames","arr","copy","Array","index","pop","ret","bundleURL","getBundleURLCached","getBundleURL","matches","stack","match","getBaseURL","url","replace","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","document","querySelectorAll"],"mappings":"AKAA,AGAA,ACAA,IDAIkH,ACAAS,MAAM,GDAG,ACAAC,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;AJCA;AACA,AGDA,ACCA,AFFA,SCCST,ACCAU,UAAT,CAAoBC,IAApB,EAA0B,CDD1B,GAA8B;AHE9B,AGDE,ACCA,MDDI,ACCAC,CDDCb,MCCM,GDDX,ACCcY,EDDE,ECCE,CAACE,SAAL,EAAd;AJCF,AGDId,ADDJ,ICCIA,SAAS,GAAGE,YAAY,EAAxB;AHEJ,AGDG,ACADW,EAAAA,OAAO,CAACE,MAAR,GAAiB,YAAY;AJE/B,AIDIH,IAAAA,IAAI,CAACI,MAAL;AJEJ,AGDE,ACAC,ANLH,AGDA,ALCA,GQGE,MDEOhB,SAAP;AHEF,AGDC,ADHD,IAAM,MAAM,GAAsB,QAAQ,CAAC,cAAT,CAAwB,OAAxB,CAAlC;AFKA,AIFEa,AFFF,ADJA,EGMEA,EFFI,IAAI,CEED,CAACI,CFFG,GEEX,CFFe,EEEAL,IAAI,CAACK,IAAL,CAAUC,CFFd,CAAS,GEEL,CAAgB,EFFpB,CEEI,AFFjB,EEEsC,CAArB,IAA0B,GAA1B,GAAgCC,IAAI,CAACC,GAAL,EAA/C;AJGF,AGDA,ACDER,AFDF,EECEA,EFDI,EECA,CAACS,EDCEnB,ADFE,GAAgB,KECzB,CAAgBoB,EFDiB,CCEnC,ADFoC,GCEZ,MCDtB,CAA6BT,IFDJ,CAAwB,EECjD,EAAsCD,GFDb,CECiB,AFD5C,CEC6CW,WAA3C;AJGF,AGDE,ACDD,AFAD,ADPA,ICOI,CAAC,EAAL,CAAQ,OAAR,EAAiB,UAAA,CAAC;AFGlB,AGDE,ADFgB,MCEZ,GDFgB,KAAK,CAAC,SAAN,GAAkB,CAAtB;AFIlB,AGDI,ACDJ,AFFkB,ADNlB,CCMA,GEEIC,ALXU,AJEA,AEFA,MMYJ,IAAI/E,ACDA,GAAG,EDCP,EAAN,ACDJ;AJGA,AGDG,ADHH,APJI,AEFA,GMOF,CAEE,ADHA,CAAC,EAAL,CAAQ,GCGGC,GAAP,ADHJ,ECGgB,ADHA,ELNA,CAAZ,CFEY,CEFW,CAAvB,EAAgC,CFEhC,COIY,CPJe,COIb,OPJd,EAA2C;AKS/C,AGDI,ACFJ,AFFkB,ADLlB,ANC+C,AEFX,QMU5ByD,CCFCsB,AFFa,KAAK,CCIZ,ADJa,GCIV,ACFlB,CDEmB,ECFE,GDEG/E,GAAG,CAAC0D,KAAV,EAAiBC,KAAjB,CAAuB,cDJd,CAAT,gDCIA,CAAd;AHEJ,AIHE,AFHgB,CAAlB,KEGMmB,UAAJ,EAAgB;AJIlB,AGFI,ACDA,AFFJ,APLQ,AEFA,IKOJ,CAAC,GCGGrB,CRRK,AEFA,CKOb,ALPQ,GAAS,CFET,AEFA,CMUJ,EAAa,ARRI,KAAb;AKWR,AGFM,ACDH,ATPK,AEFA,SFEK,AEFA,CAAL,GMUKG,ANVI,CAAT,GFEA,GAAgB,GQQD,CAACH,IRRhB,GQQuB,CAAC,CAAD,CAAR,CAAjB;AHGN,AGFK,ARRA,AEFA;AGcL,AGHG,ACDDqB,EAAAA,UAAU,GAAGE,UAAU,CAAC,GLhBN,KAAa,IKgBK,CLhBM;AKiBxC,ALhBI,MAAA,EKgBAC,CLhBG,GAAG,CKgBD,GAAGC,ALhBE,CAAC,IAAL,CAAU,EKgBA,CAACC,ALhBX,CAAN,eKgBQ,CAA0B,wBAA1B,CAAZ;AJKJ,AGHE,AJjBM,ICoBJ/I,CAAC,CDpBG,ECoBA,CGHC,AJjBE,GIiBT,AJjBY,GCoBCC,CDpBG,CAAC,KCoBX,ADpBM,CAAW,GAAX,CCoBa,ADpBnB,QCoBA,GAA8BA,OAA9B,GAAwC,IAAhD;AACA,AGHC,ACFG,ALdI,ICmBJC,KILK,IAAIiD,ALdE,CKcD,EJKE,CILC,ALdE,CKcf,ALdgB,CCmBDnD,CAAC,AILAmD,CAAC,ELdN,CCmBS,AILA0F,ALdE,AFIlB,CFEC,EEFU,CEJW,CKcD,ALdE,CKcDxF,APVF,CGeGrD,CAAC,CAACG,CLbS,CINhB,CKctB,EJKoB,AILcgD,CAAC,EAAnC,ALduC,ECmBA,AILA,CLdG,GAAG,GAAN,GCmBxB,ADnBoC,CAA7B,CAAX,CCoBXnD,CAAC,CAACG,CDpBuD,GAArD,CCmBW,GAEf,SAASD,YAAT,CAAsBE,MAAtB,EAA8BC,QAA9B,EAAwCC,IAAxC,EAA8C;AAC9C,AIPE,ALdD,AJMG,AEFA,MFEA,GKeGC,CIPDoH,CPVG,CAAL,CFEO,CAAC,CEFC,COUD,APVR,CGiBW,AIPFH,CJOGhH,ILfZ,CACI,IKcD,AIPD,CJOoBL,AIPF0I,ATPX,KKcN,AIPsB,CJOGpI,AIPF0C,CAAD,CAAL,ATPhB,CSOyBgF,ATPX,CKcf,ALdC,CKc6B/H,EIP/B,ATPoB,IKcnB,CLdwB,CKccC,AIPFsH,ITRvC,ESQ6C,ATNzC,CSM0CP,CJO3C,EAAgD9G,CLb1C,GKaN,CAAP,IIP2C,ATNnC,CAAc,CSMpB,ATNM,ESM0D,CTNxC,KAAK,KAF3B,EAGI,KAAK,KAHT,EAII,KAAK,KAJT;AKgBL,AGLH,ACFQuH,ATHH,AEPG,CGaR,OIHQA,CDECL,ENZI,CAAL,GAAS,CAAT,EOUU,CDElB,ACFmBqB,CDECpB,GAApB,CCFwB,CDEC,ACFAtE,CAAD,CAAN,CAAV;AJSR,AGNE,ACFK,APVF,IGkBDzC,KGNK,CAAC,KAAK+G,GHMf,AGNS,EAAWC,OAAX,CAAmB,sEAAnB,EAA2F,IAA3F,IAAmG,GAA1G;AACD,ACFI;AJQL,IAAI1H,CAAC,IAAI,OAAOA,CAAC,CAACW,OAAT,KAAqB,UAA9B,EAA0C;AACxCD,AGLFiB,ACFI+G,EJOFhI,EIPEgI,GDEG,CAACtB,MCFM,EJOE,CIPC,EJOEpH,CAAC,AGLpB,CHKqBW,AIPjB,EDEmBwG,INbZ,CGkBT,EHlBkB,WMapB;AHMC,AGLDxF,ACFG,APXK,CGgBR,EIdyB,EASpB,EJOE,AGLA,ACXkB,CDWjB6F,ACXN,GJgBS5G,EHlBI,IGkBE,CAACC,AGLlB,ANboB,CAAL,EMaM2G,ENbI,CAAC,CAAC,CAAZ,IAAiB,CMahC,INbqC,CAAL,GGkBzB,CHlBmC,CGkBD,AHlBE,CAAC,CAApC;AGmBN9G,AIPD,APXI,EGkBHA,cAAc,GAAG,SAASA,cAAT,CAAwBN,MAAxB,EAAgC;AAC/C,WAAOQ,MAAM,CAACE,mBAAP,CAA2BV,MAA3B,EACJW,MADI,CACGH,MAAM,CAACC,qBAAP,CAA6BT,MAA7B,CADH,CAAP;AAED,AIRHsB,GJKE,GILI,CAACC,OAAP,GAAiBgH,SAAjB;AJSC,CALM,MAKA;AACLjI,EAAAA,cAAc,GAAG,SAASA,cAAT,CAAwBN,MAAxB,EA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","file":"src.77de5100.js","sourceRoot":"..\\src","sourcesContent":["import Vector from \"./vector\";\n\nexport default class Scalable {\n    scale: number;\n    position: Vector;\n\n    constructor(scale: number, position: Vector) {\n        this.scale = scale;\n        this.position = position;\n    }\n\n    draw(context: CanvasRenderingContext2D): void {\n        context.fillRect(\n            this.position.x * this.scale,\n            this.position.y * this.scale,\n            this.scale,\n            this.scale\n        );\n    }\n}","import Vector from './vector';\nimport Scalable from './scalable';\nimport Food from './food';\n\n\nexport enum Direction {\n    LEFT,\n    UP,\n    RIGHT,\n    DOWN\n}\n\nexport default class Snake extends Scalable {\n    direction: Direction = Direction.RIGHT;\n    private tail: Scalable[] = [];\n\n    constructor(scale: number, position: Vector) {\n        super(scale, position);\n    }\n    // snake head has a different color than the tail to make it easier to differeniate them.\n    draw(context: CanvasRenderingContext2D): void {\n        context.fillStyle = '#0fd24f';\n        super.draw(context);\n\n        context.fillStyle = '#29a050';\n        this.tail.forEach(part => part.draw(context));\n    }\n\n    /**\n     * \n     * @param maxX width of arena - 1\n     * @param maxY height of arena - 1\n     * @returns true if there is collision with tail or collision with arena border\n     */\n    move(maxX: number, maxY: number): boolean {\n        let x = this.position.x;\n        let y = this.position.y;\n\n        switch(this.direction) {\n            case Direction.LEFT:\n                this.position.x--;\n                break;\n            case Direction.UP:\n                this.position.y--;\n                break;\n            case Direction.RIGHT:\n                this.position.x++;\n                break;\n            case Direction.DOWN:\n                this.position.y++;\n                break;\n        }\n\n        if(this.position.x < 0 || this.position.y < 0 || this.position.x > maxX || this.position.y > maxY) {\n            \n            return true;\n        }\n        //snake head hits tail\n        for(let tpart of this.tail) {\n            if(this.position.equals(tpart.position)) {\n                return true;\n            }\n\n            const xtmp = tpart.position.x;\n            const ytmp = tpart.position.y;\n\n            tpart.position.set(x, y);\n\n            x = xtmp;\n            y = ytmp;\n        }\n\n        return false;\n    }\n\n    eat(food: Food): void {\n        this.tail.push(new Scalable(this.scale, food.position));\n    }\n}","export default class Vector {\n    x: number;\n    y: number;\n\n    constructor(x: number, y: number) {\n        this.x = x;\n        this.y = y;\n    }\n\n    set(x: number, y: number): void {\n        this.x = x;\n        this.y = y;\n    }\n\n    equals(v: Vector): boolean {\n        return this.x == v.x && this.y == v.y;\n    }\n}","import Vector from \"./vector\";\nimport Scalable from './scalable';\n\nexport default class Food extends Scalable {\n    constructor(scale: number, position: Vector) {\n        super(scale, position);\n    }\n\n    draw(context: CanvasRenderingContext2D): void {\n        context.fillStyle = '#ec0f36';\n        super.draw(context);\n    }\n}","export default abstract class Random {\n    static Generate(min: number, max: number): number {\n        min = Math.ceil(min);\n        max = Math.floor(max);\n        \n        return Math.floor(Math.random() * (max - min + 1)) + min;\n    }\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","import Snake, { Direction } from \"./snake\";\nimport Vector from \"./vector\";\nimport Food from \"./food\";\nimport Random from \"./random\";\n\nimport { EventEmitter } from 'events';\n\nexport enum KEYS {\n    ARROW_LEFT  = 37,\n    ARROW_UP    = 38,\n    ARROW_RIGHT = 39,\n    ARROW_DOWN  = 40\n}\n\nexport interface GameSettings {\n    width?: number;\n    height?: number;\n    scale?: number;\n    speed?: number;\n}\n\nconst DefaultSettings: GameSettings = {\n    width: 40,\n    height: 30,\n    scale: 15,\n    speed: 75\n}\n\nexport default class Game extends EventEmitter  {\n    private context: CanvasRenderingContext2D;\n    private settings: GameSettings;\n\n    private snake: Snake;\n    private food: Food;\n    private timestamp?: number = 0;\n\n    private nextKey: number | null = null;\n\n    private _score: number = 0;\n\n    constructor(canvas: HTMLCanvasElement, settings: GameSettings = {}) {\n        super();\n\n        this.context = canvas.getContext('2d');\n        this.settings = { ...DefaultSettings, ...settings };\n\n        this.snake = new Snake(this.settings.scale, new Vector(0, 0));\n    }\n\n    start(): void {\n        this.canvas.width = this.settings.width * this.settings.scale;\n        this.canvas.height = this.settings.height * this.settings.scale;\n\n        this.attachKeyboard();\n        this.placeFood();\n        this.update();\n    }\n    //random food placement\n    private placeFood(): void {\n        const x = Random.Generate(0, this.settings.width - 1);\n        const y = Random.Generate(0, this.settings.height - 1);\n\n        this.food = new Food(this.settings.scale, new Vector(x, y));\n    }\n    //add keyboard controls\n    //keyCode is deprecated but still works\n    private attachKeyboard(): void {\n        document.addEventListener('keydown', e => {\n            if(this.nextKey == null || this.nextKey != e.keyCode) {\n                this.nextKey = e.keyCode;\n            }\n        });\n    }\n\n    update(timestamp?: number): void {\n        timestamp = timestamp || 0;\n        //draws game arena, then adds in snake, then the food\n        this.context.fillStyle = 'Gray';\n        this.context.fillRect(0, 0, this.canvas.width, this.canvas.height);\n        this.snake.draw(this.context);\n\n        if(timestamp - this.timestamp >= this.settings.speed) {\n            this.timestamp = timestamp;\n            \n            this.checkKey();\n\n            if(this.snake.move(this.settings.width - 1, this.settings.height - 1)) {\n                this.emit('over', this._score);\n                return;\n            }\n\n            this.checkFoodCollision();\n        }\n\n        this.food.draw(this.context);\n\n        requestAnimationFrame(this.update.bind(this));\n    }\n\n    private checkKey(): void {\n        if(this.nextKey == null) {\n            return;\n        }\n//Movement\n//player is unable to move into own tail\n        switch(this.nextKey) {\n            case KEYS.ARROW_LEFT:\n                if(this.snake.direction != Direction.RIGHT){\n                    this.snake.direction = Direction.LEFT;\n                    break;\n                }\n                else{\n                    break\n                }\n            case KEYS.ARROW_UP:\n                if(this.snake.direction != Direction.DOWN){\n                    this.snake.direction = Direction.UP;\n                    break;\n                }\n                else{\n                    break\n                }\n            case KEYS.ARROW_RIGHT:\n                if(this.snake.direction != Direction.LEFT){\n                    this.snake.direction = Direction.RIGHT;\n                    break;\n                }\n                else{\n                    break\n                }\n            case KEYS.ARROW_DOWN:\n                if(this.snake.direction != Direction.UP){\n                    this.snake.direction = Direction.DOWN;\n                    break;\n                }\n                else{\n                    break\n                }\n        }\n\n        this.nextKey = null;\n    }\n\n    private checkFoodCollision(): void {\n        if(this.snake.position.equals(this.food.position)) {\n            this.snake.eat(this.food);\n            this.emit('score', ++this._score);\n            this.placeFood();\n        }\n    }\n\n    get canvas(): HTMLCanvasElement {\n        return this.context.canvas;\n    }\n}","import Game from './scripts/game';\r\n\r\nimport './main.scss';\r\n\r\nconst canvas: HTMLCanvasElement = document.getElementById('arena') as HTMLCanvasElement;\r\nconst game = new Game(canvas);\r\n\r\nconst score: HTMLElement = document.getElementById('score') as HTMLElement;\r\n\r\ngame.on('score', s => score.innerHTML = s);\r\ngame.on('over', _s => alert('Game over!\\nRefresh page for new game.'));\r\n\r\ngame.start();","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}